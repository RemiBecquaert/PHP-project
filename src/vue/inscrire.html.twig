{% extends "base.html.twig" %}
{% block title %} {{ parent() }} S'inscrire{% endblock %}
{% block contenu %}
{{ parent() }}


{% if form.valide is defined %}
  {% if form.valide == true %}
    <h2>Votre compte a bien été créé !</h2>
    <h2>Voici votre adresse e-mail qui vous servira d'identifiant : {{form.email}}</h2>
    {% if form.role == 1 %}
      <h2>Vous êtes administrateur</h2>
    {% else %}
      <h2>Vous êtes client du site</h2>
    {% endif %}
  {% else %}
    <h2>Échec de la création du compte</h2>
    <h2>Voici l'erreur : {{form.message}}</h2>  
    <h2><a href="index.php?page=inscrire">Recommencer la création du compte</a></h2>  
  {% endif %}
{% else %}

<div class="container-fluid">
  <form class="form" action="index.php?page=inscrire" method="post" enctype="application/x-www-formurlencoded">
    <h2>Créez votre compte client !</h2>

    <label for="inputName" class="sr-only">Votre nom</label>
      <input type="text" id="nom" name="nom" class="form-control" placeholder="Votre nom" required autofocus>
    
    <label for="inputFirstname" class="sr-only">Votre prénom</label>
      <input type="text" id="prenom" name="prenom" class="form-control" placeholder="Votre prénom" required autofocus>
    
    <label for="inputEmail" class="sr-only">Votre E-mail</label>
      <input type="email" id="inputEmail" name="inputEmail" class="form-control" placeholder="Votre E-mail" required autofocus>
    
    <label for="inputPassword" class="sr-only">Mot de passe</label>
      <input type="password" id="inputPassword" name="inputPassword" class="form-control" placeholder="Mot de passe" required>
    
    <label for="inputPassword2" class="sr-only">Confirmation du mot de passe</label>
      <input type="password" id="inputPassword2" name="inputPassword2" class="form-control" placeholder="Confirmation du mot de passe" required>
    
    <select class="form-control" name="role">
      <option value="1">Administrateur</option>
      <option value="2">Client</option>
    </select>
    
    <button class="btn btn-lg btn-primary btn-block" type="submit" name="btInscrire">Créer mon compte client</button>
  </form>
</div>
{% endif %}


<footer class="bg-light text-center text-lg-start">
  <div class="container p-4">
    <div class="row">
      <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
        <h5 class="text-uppercase">Footer Content</h5>
        <p>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
          molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam
          voluptatem veniam, est atque cumque eum delectus sint!
        </p>
      </div>
      <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <h5 class="text-uppercase mb-0">Accueil</h5>

        <ul class="list-unstyled">
          <li>
            <a href="index.php?page=inscrire" class="text-dark">S'inscrire</a>
          </li>
          {% if session.login is defined %}
          {% else %}          
          <li>
            <a href="index.php?page=connexion" class="text-dark">Se connecter</a>
          </li>
          {% endif %}
          <li>
            <a href="index.php?page=contact" class="text-dark">Nous contacter</a>
          </li>
          <li>
            <a href="index.php?page=mentions" class="text-dark">Mentions Légales</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
    © 2021 Tous droits réservés :
    <a class="text-dark" href="index.php">Au Coin Chaud</a>
  </div>
</footer>
{% endblock %}